# Extra Content

---


# Lesson 11 - View Inheritance

### templates/base.html

Define a template that can be loaded like any other.  Notice the "{% block content %}".

    <!DOCTYPE html>
    <html lang="en">
        <head>
            <meta charset="UTF-8">
            <title>BACS 350 Page</title>
            <link rel="stylesheet" href="styles.css">
        </head>
        
        <body>
            <h1>BACS 350 Page</h1>
            {% block content %}
                <h2>No Block Defined</h2>
            {% endblock content %}
        </body>
    </html>


### templates/about.html

The template can be extended to replace the "{% block content %}".

    {% extends 'base.html' %}
    
    {% block content %}
        <h2>About Us</h2>
        <p>This is all about us!</p>
    {% endblock content %}
    
    
### templates/profile.html

The template can be extended to replace the "{% block content %}".

    {% extends 'base.html' %}
    
    {% block content %}
        <h2>Profile Page</h2>
        <p>This is my profile</p>
    {% endblock content %}


### templates/page_theme.html
* View a more realistic example with several components
* The theme load both CSS and JavaScript
* A header, footer, and main are defined
* [Page Theme](https://github.com/Mark-Seaman/UNC-BACS-350/blob/master/demo/week04/demo10/templates/page_theme.html)


---


Lesson 10 - URLs with Parameters


### TemplateView
* HTML in templates/.html
* Views in views.py
* URL Routes in urls.py


#### templates/home.html

    <h1>Home Page</h1>
    <a href="about.html">About</a>
    <a href="profile.html">Profile</a>
  
#### templates/profile.html

    <h1>Profile Page</h1>
    <a href="about.html">About</a>
    <a href="home.html">Home</a>

  
#### templates/about.html

    <h1>About Us Page</h1>
    <a href="profile.html">Profile</a>
    <a href="home.html">Home</a>


#### templates/missing.html

    <h1>Missing Page</h1>
    <h2>404 - Page Not Found</h2>
    <p>We are sorry, but 404 is for Losers!</p>


### Use one Route to Load Different Page Templates

#### pages/views.py

    from django.views.generic import TemplateView
    
    class PageView(TemplateView):
    
        def get_template_names(self):
            template_name = self.kwargs.get('template')
            return template_name
        

#### urls.py

    from django.urls import path
    from page.views import PageView
    
    urlpatterns = [
        path('<str:template>', PageView.as_view()),
    ]
    
    

## LEARN

### TemplateView
* HTML in templates/hulk.html
* Views in views.py
* URL Routes in urls.py
* Static Server for images


### templates/hulk.html

    <h1>Hulk Profile</h1>
    <img src="hulk.jpg" alt="Hulk">
  

### urls.py

    from django.urls import path
    from django.views.generic import HulkView, WidowView
    
    urlpatterns = [
        path('hulk', HulkView.as_view()),
        path('black_widow', WidowView.as_view()),
    ]

### pages/views.py

    from django.views.generic import TemplateView
    
    class HulkView(TemplateView):
        template_name = 'hulk.html'

    class WidowView(TemplateView):
        template_name = "black_widow.html"
        

### Pages may Contain Images
* Django serves pages expected to be processed
* Static content is passed directly through without processing
* Django contains a static server that can be enabled


### settings.py
* STATIC_URL = '/static/'
* STATICFILES_DIRS = ['static']



## BUILD

### Python Dictionary

    states = {'colorado': 'Population 6,000,000',
              'wyoming': 'Population 600,000'}
    states['colorado']
    states['wyoming']
    states['arizona']  **Throws an error**

    
### Safe Access to Dictionary
     
    states = {'colorado': 'Population 6,000,000',
              'wyoming': 'Population 600,000'}
              
    states.get('colorado')
        Population 6,000,000
        
    states.get('wyoming')
        Population 600,000
        
    states.get('arizona')
        None

    
###  Passing Keywords in Python

    def population(states, state):
        return states.get(state)


###  Passing the Hero

urls.py

    from django.urls import path
    from django.views.generic import HulkView, WidowView
    
    urlpatterns = [
        path('hero/<str:identity>', HeroView.as_view()),
    ]

pages/views.py

    class HeroView(TemplateView):
        template_name = "hero.html"
        
        def get_context_data(self, **kwargs):
            id = kwargs.get('identity')
            return {'hero': id}
            
            
Test the pages

    Works
    
        http://127.0.0.1:8000/hero/hulk
        
        http://127.0.0.1:8000/hero/black_widow
        
    Doesn't Work
        
        http://127.0.0.1:8000/hero/iron_man
        
        http://127.0.0.1:8000/hero
        
        http://127.0.0.1:8000
        

---


# Lesson 11 - Testing


## LEARN

### templates/base.html

Define a template that can be loaded like any other.  Notice the "{% block content %}".

    <!DOCTYPE html>
    <html lang="en">
        <head>
            <meta charset="UTF-8">
            <title>BACS 350 Page</title>
            <link rel="stylesheet" href="styles.css">
        </head>
        
        <body>
            <h1>BACS 350 Page</h1>
            {% block content %}
                <h2>No Block Defined</h2>
            {% endblock content %}
        </body>
    </html>


### templates/about.html

The template can be extended to replace the "{% block content %}".

    {% extends 'base.html' %}
    
    {% block content %}
        <h2>About Us</h2>
        <p>This is all about us!</p>
    {% endblock content %}
    
    
### templates/profile.html

The template can be extended to replace the "{% block content %}".

    {% extends 'base.html' %}
    
    {% block content %}
        <h2>Profile Page</h2>
        <p>This is my profile</p>
    {% endblock content %}


### templates/page_theme.html
* View a more realistic example with several components
* The theme load both CSS and JavaScript
* A header, footer, and main are defined
* [Page Theme](https://github.com/Mark-Seaman/UNC-BACS-350/blob/master/demo/week04/demo10/templates/page_theme.html)

# Lesson xx - Composite Views

## LEARN

### View Inheritance
* Define a base template 
* Add "{% block content %}"
* Extend base template for other pages


### templates/base.html

    <!DOCTYPE html>
    <html lang="en">
        <head>
            <meta charset="UTF-8">
            <title>BACS 350 Page</title>
            <link rel="stylesheet" href="styles.css">
        </head>        
        <body>
            {% block content %}
            {% endblock content %}
        </body>
    </html>


### templates/about.html

    {% extends 'base.html' %}
    
    {% block content %}
        <h2>About Us</h2>
        <p>This is all about us!</p>
    {% endblock content %}


### Block Nesting - base.html

```
{% block content %}

    {% block header %}
    {% endblock header %}

    {% block main %}
    {% endblock main %}

    {% block footer %}
    {% endblock footer %}

{% endblock content %}
```


### Block Nesting - page.html

```
    {% extends 'base.html' %}

    {% block main %}
    {% endblock main %}
```



### Includes
* Include another HTML file in a template
* Makes templates easy to read
* Partial templates should start with "_" 

```
    {% include '_head.html' %}
    {% include '_main_menu.html' %}
    {% include '_side_menu.html' %}
    {% include '_main.html' %}
    {% include '_footer.html' %}
```


## BUILD

### Project 4 - Superhero News
* Build a web app at Python Anywhere
* Index gives a list of heroes
* Links display details of each hero
* Each page has a photo


### Skills
* Define and load HTML templates
* Pass data to a view
* Pass arguments from URL
* View inheritance
* Use of CSS


### Superhero Views
* startproject Superhero
* startapp hero
* setttings
    * templates (templates)
    * static server (static)
    * installed apps (hero)
    * root URLs (hero.urls)
    * migrate database models
    

### Add Views
* Index view template (index.html)
* Hero view template (hero.html)
* Views (Index View, Hero View)
* URL routes ('', 'hero/<str:hero>')


### Test Index View
Use Django Tests to get index view

    from django.test import SimpleTestCase

    class ViewTests(SimpleTestCase):

        def test_index_view(self):
            response = self.client.get('/')
            self.assertEqual(response.status_code, 200)


### Test Hero Views
Use Django Tests to get index view

    from django.test import SimpleTestCase

    class ViewTests(SimpleTestCase):

        def test_hero_view(self):
            response = self.client.get('hero/hulk')
            self.assertEqual(response.status_code, 200)
            response = self.client.get('hero/widow')
            self.assertEqual(response.status_code, 200)

